{"version":3,"file":"static/js/793.5a15818a.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/pages/movieDetails/MovieDetails.module.css?3b61","pages/movieDetails/MovieDetails.jsx","services/api.js","utils/constants.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"backLink\":\"MovieDetails_backLink__jzDuq\",\"movieDetailsBlock\":\"MovieDetails_movieDetailsBlock__jHfkf\",\"image\":\"MovieDetails_image__X2-pj\",\"movieInfo\":\"MovieDetails_movieInfo__QGsHN\",\"movieTitle\":\"MovieDetails_movieTitle__6eeeW\",\"infoList\":\"MovieDetails_infoList__BC-09\",\"text\":\"MovieDetails_text__B7IW3\",\"subTitle\":\"MovieDetails_subTitle__zRnEy\",\"linksList\":\"MovieDetails_linksList__tov0I\",\"detailsLink\":\"MovieDetails_detailsLink__NgjUV\",\"active\":\"MovieDetails_active__+MInO\"};","import { Suspense, useEffect, useRef, useState } from 'react';\nimport {\n  Link,\n  NavLink,\n  Outlet,\n  useLocation,\n  useParams,\n} from 'react-router-dom';\nimport { Loader } from 'components/loader/Loader';\nimport { requestMovieById } from 'services/api';\nimport { IMAGE_URL_BASE, default_image } from 'utils/constants';\nimport css from './MovieDetails.module.css';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n\n  const [movie, setMovie] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isError, setIsError] = useState(null);\n\n  const location = useLocation();\n  const backLinkRef = useRef(location.state?.from ?? '/');\n\n  useEffect(() => {\n    const getMovieDetails = async () => {\n      if (!movieId) return;\n      try {\n        setIsLoading(true);\n        const movieDetails = await requestMovieById(movieId);\n        setMovie(movieDetails);\n        setIsError(null);\n      } catch (error) {\n        setIsError(error.message);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    getMovieDetails();\n  }, [movieId]);\n\n  const { title, overview, vote_average, release_date, genres, poster_path } =\n    movie || {};\n\n  const score = Math.round(Number(vote_average) * 10);\n  const imagePath = poster_path\n    ? `${IMAGE_URL_BASE}${poster_path}`\n    : default_image;\n\n  return (\n    <>\n      {isLoading && <Loader />}\n      {isError && (\n        <p className={css.text}>\n          Sorry... Some error occured while loading movie. Please try again\n          later.\n        </p>\n      )}\n      <div>\n        {!isLoading && movie && (\n          <div>\n            <Link to={backLinkRef.current} className={css.backLink}>\n              Go back\n            </Link>\n            <div className={css.movieDetailsBlock}>\n              <img src={`${imagePath}`} alt={title} className={css.image} />\n              <div className={css.movieInfo}>\n                <h2 className={css.movieTitle}>\n                  {title} ({release_date.slice(0, 4)})\n                </h2>\n                <p className={css.text}>{`User score: ${score} %`}</p>\n                <ul className={css.infoList}>\n                  <li>\n                    <h3 className={css.subTitle}>Overview</h3>\n                    <p className={css.text}>{overview}</p>\n                  </li>\n                  <li>\n                    <h4 className={css.subTitle}>Genres</h4>\n                    <p className={css.text}>\n                      {genres.map(({ name }) => name).join(' ')}\n                    </p>\n                  </li>\n                </ul>\n              </div>\n            </div>\n            <div>\n              <p className={css.text}>Additional information</p>\n              <ul className={css.linksList}>\n                <li>\n                  <NavLink\n                    to=\"cast\"\n                    state={{ ...location.state }}\n                    className={({ isActive }) =>\n                      `${css.detailsLink} ${isActive ? css.active : ''}`\n                    }\n                  >\n                    Cast\n                  </NavLink>\n                </li>\n                <li>\n                  <NavLink\n                    to=\"reviews\"\n                    state={{ ...location.state }}\n                    className={({ isActive }) =>\n                      `${css.detailsLink} ${isActive ? css.active : ''}`\n                    }\n                  >\n                    Reviews\n                  </NavLink>\n                </li>\n              </ul>\n            </div>\n          </div>\n        )}\n        <Suspense>\n          <Outlet />\n        </Suspense>\n      </div>\n    </>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\nimport { AUTH_TOKEN } from 'utils/constants';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\naxios.defaults.headers.common['Authorization'] = AUTH_TOKEN;\n\nexport const requestTrendingMovies = async () => {\n  const url = '/trending/movie/day?language=en-US';\n  const { data } = await axios.get(url);\n\n  return data.results;\n};\n\nexport const requestMovieById = async movieId => {\n  const url = `/movie/${movieId}?language=en-US`;\n  const { data } = await axios.get(url);\n\n  return data;\n};\n\nexport const requestMovieByQuery = async searchQuery => {\n  const url = `/search/movie?query=${searchQuery}`;\n  const { data } = await axios.get(url);\n\n  return data.results;\n};\n\nexport const requestMovieCast = async movieId => {\n  const url = `/movie/${movieId}/credits?language=en-US`;\n  const { data } = await axios.get(url);\n\n  return data.cast;\n};\n\nexport const requestReviews = async movieId => {\n  const url = `/movie/${movieId}/reviews?language=en-US`;\n  const { data } = await axios.get(url);\n\n  return data.results;\n};\n","export const AUTH_TOKEN =\n  'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlMjgyODliZWYxZTEzYTJiZjE5N2ZjMDZhZmUxMjMzNiIsInN1YiI6IjY1OWZlNDcxM2NkMTJjMDEyZGYwNjY5YiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.yA_qEgcZekO0ca6PfwxFIzMCuYarZwWINgSQqc-fQgI';\n\nexport const IMAGE_URL_BASE = 'https://image.tmdb.org/t/p/w500';\n\nexport const default_image =\n  'https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=1000x700';\n"],"names":["_location$state$from","_location$state","movieId","useParams","_useState","useState","_useState2","_slicedToArray","movie","setMovie","_useState3","_useState4","isLoading","setIsLoading","_useState5","_useState6","isError","setIsError","location","useLocation","backLinkRef","useRef","state","from","useEffect","getMovieDetails","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","movieDetails","_context","prev","next","abrupt","requestMovieById","sent","t0","message","finish","stop","apply","arguments","_ref2","title","overview","vote_average","release_date","genres","poster_path","score","Math","round","Number","imagePath","concat","IMAGE_URL_BASE","default_image","_jsxs","_Fragment","children","_jsx","Loader","className","css","Link","to","current","src","alt","slice","map","_ref3","name","join","NavLink","_objectSpread","_ref4","isActive","_ref5","Suspense","Outlet","axios","AUTH_TOKEN","requestTrendingMovies","_yield$axios$get","data","results","_callee2","url","_yield$axios$get2","_context2","_x","requestMovieByQuery","_callee3","searchQuery","_yield$axios$get3","_context3","_x2","requestMovieCast","_callee4","_yield$axios$get4","_context4","cast","_x3","requestReviews","_callee5","_yield$axios$get5","_context5","_x4"],"sourceRoot":""}