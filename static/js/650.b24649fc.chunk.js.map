{"version":3,"file":"static/js/650.b24649fc.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/moviesList/MoviesList.module.css?a81a","components/moviesList/MoviesList.jsx","webpack://react-homework-template/./src/components/searchForm/SearchForm.module.css?1aef","components/searchForm/SearchForm.jsx","pages/movies/Movies.module.css","pages/movies/Movies.jsx","services/api.js","utils/constants.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"moviesList\":\"MoviesList_moviesList__46PAX\",\"link\":\"MoviesList_link__KTkq2\"};","import { Link, useLocation } from 'react-router-dom';\nimport css from './MoviesList.module.css';\n\nexport const MoviesList = ({ movies }) => {\n  const location = useLocation();\n  return (\n    <ul className={css.moviesList}>\n      {movies.map(({ id, title }) => {\n        return (\n          <li key={id}>\n            <Link\n              className={css.link}\n              to={`/movies/${id}`}\n              state={{ from: location }}\n            >\n              {title}\n            </Link>\n          </li>\n        );\n      })}\n    </ul>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"SearchForm_form__ThZqH\",\"input\":\"SearchForm_input__a6uEo\",\"button\":\"SearchForm_button__sXC26\"};","import { useSearchParams } from 'react-router-dom';\nimport css from './SearchForm.module.css';\n\nexport const SearchForm = () => {\n  const [, setSearchParams] = useSearchParams();\n\n  const handleFormSubmit = e => {\n    e.preventDefault();\n    const query = e.currentTarget.elements.searchQuery.value.trim();\n    if (!query) {\n      setSearchParams({});\n    }\n    setSearchParams({ sQuery: query });\n  };\n\n  return (\n    <div>\n      <form onSubmit={handleFormSubmit} className={css.form}>\n        <input\n          className={css.input}\n          name=\"searchQuery\"\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Enter movie\"\n          required\n        />\n        <button className={css.button} type=\"submit\">\n          Search\n        </button>\n      </form>\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {};","import { Loader } from 'components/loader/Loader';\nimport { MoviesList } from 'components/moviesList/MoviesList';\nimport { SearchForm } from 'components/searchForm/SearchForm';\nimport { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { requestMovieByQuery } from 'services/api';\nimport css from './Movies.module.css';\n\nconst Movies = () => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [isError, setIsError] = useState(null);\n  const [movies, setMovies] = useState([]);\n  const [searchParams] = useSearchParams();\n  const query = searchParams.get('sQuery') ?? '';\n\n  useEffect(() => {\n    if (!query) return;\n\n    const getMoviesByQuery = async () => {\n      try {\n        setIsLoading(true);\n        setIsError(null);\n\n        const searchedMovies = await requestMovieByQuery(query);\n        setMovies(searchedMovies);\n      } catch (error) {\n        setIsError(error.message);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    getMoviesByQuery();\n  }, [query]);\n\n  return (\n    <div>\n      {isLoading && <Loader />}\n      {!isLoading && isError && (\n        <p>\n          Sorry... Some error occured while loading movies. Please try again\n          later.\n        </p>\n      )}\n      <SearchForm />\n      {movies && <MoviesList movies={movies} className={css.moviesList} />}\n    </div>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\nimport { AUTH_TOKEN } from 'utils/constants';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\naxios.defaults.headers.common['Authorization'] = AUTH_TOKEN;\n\nexport const requestTrendingMovies = async () => {\n  const url = '/trending/movie/day?language=en-US';\n  const { data } = await axios.get(url);\n\n  return data.results;\n};\n\nexport const requestMovieById = async movieId => {\n  const url = `/movie/${movieId}?language=en-US`;\n  const { data } = await axios.get(url);\n\n  return data;\n};\n\nexport const requestMovieByQuery = async searchQuery => {\n  const url = `/search/movie?query=${searchQuery}`;\n  const { data } = await axios.get(url);\n\n  return data.results;\n};\n\nexport const requestMovieCast = async movieId => {\n  const url = `/movie/${movieId}/credits?language=en-US`;\n  const { data } = await axios.get(url);\n\n  return data.cast;\n};\n\nexport const requestReviews = async movieId => {\n  const url = `/movie/${movieId}/reviews?language=en-US`;\n  const { data } = await axios.get(url);\n\n  return data.results;\n};\n","export const AUTH_TOKEN =\n  'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlMjgyODliZWYxZTEzYTJiZjE5N2ZjMDZhZmUxMjMzNiIsInN1YiI6IjY1OWZlNDcxM2NkMTJjMDEyZGYwNjY5YiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.yA_qEgcZekO0ca6PfwxFIzMCuYarZwWINgSQqc-fQgI';\n\nexport const IMAGE_URL_BASE = 'https://image.tmdb.org/t/p/w500';\n\nexport const default_image =\n  'https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=1000x700';\n"],"names":["MoviesList","_ref","movies","location","useLocation","_jsx","className","css","children","map","_ref2","id","title","Link","to","concat","state","from","SearchForm","_useSearchParams","useSearchParams","setSearchParams","_slicedToArray","_jsxs","onSubmit","e","preventDefault","query","currentTarget","elements","searchQuery","value","trim","sQuery","name","type","autoComplete","autoFocus","placeholder","required","_searchParams$get","_useState","useState","_useState2","isLoading","setIsLoading","_useState3","_useState4","isError","setIsError","_useState5","_useState6","setMovies","get","useEffect","getMoviesByQuery","_asyncToGenerator","_regeneratorRuntime","_callee","searchedMovies","_context","prev","next","requestMovieByQuery","sent","t0","message","finish","stop","apply","arguments","Loader","axios","AUTH_TOKEN","requestTrendingMovies","_yield$axios$get","data","abrupt","results","requestMovieById","_callee2","movieId","url","_yield$axios$get2","_context2","_x","_ref3","_callee3","_yield$axios$get3","_context3","_x2","requestMovieCast","_ref4","_callee4","_yield$axios$get4","_context4","cast","_x3","requestReviews","_ref5","_callee5","_yield$axios$get5","_context5","_x4","IMAGE_URL_BASE","default_image"],"sourceRoot":""}